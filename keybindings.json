// 将键绑定放在此文件中以覆盖默认值
[
  {
    // 光标聚焦到编辑器
    "command": "workbench.action.focusActiveEditorGroup",
    "key": "ctrl+e ctrl+e"
  },
  {
    "command": "editor.action.quickFix",
    "key": "alt+enter",
    "when": "editorHasCodeActionsProvider && textInputFocus && !editorReadonly"
  },
  {
    "command": "workbench.action.closeActiveEditor",
    "key": "space w c",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  {
    // 关闭所有编辑器窗口å
    "command": "workbench.action.closeAllEditors",
    "key": "space w a",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  // 导航操作
  {
    "command": "editor.action.revealDefinition",
    "key": "g d",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  // 跳转到实现
  {
    "command": "editor.action.goToImplementation",
    "key": "g i",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  // 跳转到下一个错误
  {
    "command": "editor.action.marker.next",
    "key": "space g e",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  // 跳转到符号
  {
    "command": "workbench.action.gotoSymbol",
    "key": "space g s",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  {
    // 跳转到上一个错误
    "command": "editor.action.marker.prev",
    "key": "space g shift+e",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  {
    // 查看所有错误和警告列表
    "command": "workbench.actions.view.problems",
    "key": "space g shift+l",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  // === 调试和运行 ===
  {
    "command": "workbench.action.debug.start",
    "key": "space r u n",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "command": "workbench.action.debug.start",
    "key": "space b u g",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "command": "workbench.action.debug.stop",
    "key": "space s b",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "command": "editor.debug.action.toggleBreakpoint",
    "key": "space b p",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // === 终端管理 ===
  {
    "command": "workbench.action.terminal.toggleTerminal",
    "key": "space t t",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "command": "workbench.action.terminal.toggleTerminal",
    "key": "shift+t shift+t",
    "when": "(vim.mode == 'Normal' || neovim.mode == 'normal') && terminalFocus || (!editorFocus && !inputFocus && !textInputFocus)"
  },
  // === 工具和设置 ===
  // 显示悬浮窗
  {
    "command": "editor.action.showHover",
    "key": "space s h",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 打开全局快捷键
    "command": "workbench.action.openGlobalKeybindings",
    "key": "space s k",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 打开设置面板
    "command": "workbench.action.openSettings",
    "key": "space s s",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 选择主题
    "command": "workbench.action.selectTheme",
    "key": "space s t",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // === 搜索功能 ===
  {
    // 搜索当前文件
    "command": "actions.find",
    "key": "space s f",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  {
    // 搜索全局文件
    "command": "workbench.action.findInFiles",
    "key": "space s a",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // === 代码格式化 ===
  {
    "command": "editor.action.formatDocument",
    "key": "space c f",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  // 切换断点
  {
    "command": "editor.debug.action.toggleBreakpoint",
    "key": "space c b",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  // 组织导入
  {
    "command": "editor.action.organizeImports",
    "key": "space c o",
    "when": "editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') "
  },
  // 重命名
  {
    "command": "editor.action.rename",
    "key": "c d",
    "when": "editorHasRenameProvider && editorTextFocus && !terminalFocus && !editorReadonly && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  //进入禅模式
  {
    "command": "workbench.action.toggleZenMode",
    "key": "space z z",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  // === Git 版本控制 ===
  // 显示Git版本控制
  {
    "command": "workbench.view.scm",
    "key": "space v v",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // 切换分支
  {
    "command": "git.checkout",
    "key": "space v c",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // 打开变更
  {
    "command": "git.openChange",
    "key": "space v d",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // 生成 commit message
  {
    // 生成 commit message
    "command": "cursor.generateGitCommitMessage",
    "key": "space v m",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 提交代码
    "command": "git.commit",
    "key": "space v c",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 推送代码
    "command": "git.push",
    "key": "space v p",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 暂存所有更改
    "command": "git.unstageAll",
    "key": "space v shift+a",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 暂存所有更改
    "command": "git.stageAll",
    "key": "space v a",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 聚焦到变更的文件列表
    "command": "workbench.scm.focus",
    "key": "space v l",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 从 diff 视图按 ESC 返回到变更文件列表
    "command": "workbench.scm.focus",
    "key": "escape",
    "when": "isInDiffEditor && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  {
    // 下一个此文件的改动
    "command": "workbench.action.compareEditor.nextChange",
    "key": "n",
    "when": "isInDiffEditor && editorTextFocus && !terminalFocus && !textInputFocus && !inputFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  {
    // 上一个文件改动
    "command": "workbench.action.compareEditor.previousChange",
    "key": "N",
    "when": "isInDiffEditor && editorTextFocus && !terminalFocus && !textInputFocus && !inputFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  // === 文件浏览 ===
  {
    "command": "workbench.files.action.showActiveFileInExplorer",
    "key": "space f f",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "command": "workbench.action.quickOpen",
    "key": "space f o",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    //打开资源文件管理器
    "command": "workbench.action.toggleSidebarVisibility",
    "key": "space e e",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  // === 扩展管理 ===
  {
    // 打开扩展面板
    "command": "workbench.view.extensions",
    "key": "space x x",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 搜索扩展
    "command": "workbench.extensions.action.showPopularExtensions",
    "key": "space x s",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 管理已安装的扩展
    "command": "workbench.extensions.action.listInstalledExtensions",
    "key": "space x i",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 打开最近项目
    "command": "workbench.action.openRecent",
    "key": "space p o",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  //新建窗口
  {
    "command": "workbench.action.newWindow",
    "key": "space p w",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    //打开文件夹
    "command": "workbench.action.files.openFolder",
    "key": "space p n",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 刷新VS Code窗口（缓存）
    "command": "workbench.action.reloadWindow",
    "key": "space r w",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    // 重启语言服务器
    "command": "typescript.restartTsServer",
    "key": "space r l",
    "when": "!terminalFocus && (editorTextFocus && (vim.mode == 'Normal' || neovim.mode == 'normal') || !editorTextFocus)"
  },
  {
    "key": "ctrl+l",
    "command": "composerMode.agent"
  },
  {
    //移除无用的包
    "command": "-editor.action.organizeImports",
    "key": "space c o",
    "when": "textInputFocus && !editorReadonly && supportedCodeAction =~ /(\\s|^)source\\.organizeImports\\b/"
  },
  //聚焦到下一个搜索结果
  {
    "command": "search.action.focusNextSearchResult",
    "key": "shift+enter",
    "when": "inSearchEditor"
  },
  {
    "key": "g shift+d",
    "command": "editor.action.revealDeclaration",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  },
  {
    "key": "g y",
    "command": "editor.action.revealDefinition",
    "when": "editorTextFocus && !terminalFocus && (vim.mode == 'Normal' || neovim.mode == 'normal')"
  }
]
